{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","src/ts/events/events.ts","src/ts/events/ros.ts","src/ts/events/tab.ts","src/ts/events/widget.ts","src/ts/events/widget_instance.ts","src/ts/main.ts","src/ts/model/subscription.ts","src/ts/model/tab.ts","src/ts/model/widget.ts","src/ts/model/widget_instance.ts","src/ts/super/db.ts","src/ts/super/design.ts","src/ts/super/frontend.ts","src/ts/super/instance_loader.ts","src/ts/super/names.ts","src/ts/super/trigger.ts"],"names":[],"mappings":"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","file":"bundle.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/// <reference path=\"../typings/tsd.d.ts\" />\n\nimport {db} from \"../super/db.ts\";\n\nexport class EventsParent {\n\n  constructor() {\n  }\n\n  public nothing = (e?: MouseEvent) => {\n    e.preventDefault();\n  }\n\n  public DelegateEvent(selector: string | Document | Window, event: string, method: () => void) {\n    if (event == \"resize\") {\n      $(selector).resize(method);\n    }\n    $(document).delegate(selector, event, method);\n  }\n\n  public DelegateElementCreated(insertedSelector: string, method: () => void) {\n    $('body').on('DOMNodeInserted', insertedSelector, method);\n  }\n\n}\n","/// <reference path=\"../typings/tsd.d.ts\" />\n\n// Parent Class\nimport {EventsParent} from \"./events.ts\";\n\nexport class RosEvents extends EventsParent {\n\n  public Ros: ROSLIB.Ros;\n  public connected: boolean = false;\n\n  constructor(ros: ROSLIB.Ros) {\n    super();\n    \n    this.Ros = ros;\n    this.Ros.on(\"connection\", this.OnRosConnection);\n    this.Ros.on(\"close\", this.OnRosClose);\n    this.Ros.on(\"error\", this.OnRosError);\n    this.DelegateEvent(\".jsRosConnect\", \"click\", this.Connect);\n  }\n\n  public Connect = (e?: MouseEvent) => {\n    if($(\".jsRosConnect\").hasClass(\"loading\")) {\n      return;\n    }\n    $(\".jsRosConnect\").addClass(\"loading\");\n\n    if(!this.connected) {\n      let url : string = \"ws://\" + $(\".jsRosUrl\").val();\n      this.Ros.connect(url);\n    } else {\n      this.Ros.close();\n    }\n    e.preventDefault();\n  }\n  private OnRosConnection = () => {\n    this.connected = true;\n    $(\".jsRosConnect\").addClass(\"active\");\n    $(\".jsRosConnect\").removeClass(\"loading\");\n  }\n  private OnRosClose = () => {\n    this.connected = false;\n    $(\".jsRosConnect\").removeClass(\"active\");\n    $(\".jsRosConnect\").removeClass(\"loading\");\n  }\n  private OnRosError = (error: any) => {\n    this.Ros.close();\n    this.connected = false;\n    $(\".jsRosConnect\").removeClass(\"active\");\n    $(\".jsRosConnect\").removeClass(\"loading\");\n    console.log(error);\n  }\n\n}","/// <reference path=\"../typings/tsd.d.ts\" />\n\n// Parent Class\nimport {EventsParent} from \"./events.ts\";\n\n// Models\nimport {Tab} from \"../model/tab.ts\";\n\n// Super classes\nimport {db} from \"../super/db.ts\";\nimport {Design} from \"../super/design.ts\";\nimport {Frontend} from \"../super/frontend.ts\";\n\nexport class TabEvents extends EventsParent {\n  \n  private Frontend: Frontend;\n  private Design: Design;\n  \n  constructor() {\n    super();\n\n    this.Frontend = new Frontend();\n    this.Design = new Design();\n\n    // render list\n    this.Frontend.widgetsList(db.Widgets);\n\n    // Resize Events\n    this.DelegateEvent(window, \"resize\", this._windowResized);\n    \n    // Left Click Events\n    this.DelegateEvent(\".jsEventNothing\", \"click\", this.nothing);\n    this.DelegateEvent(\".jsEventNewTab\", \"click\", this.newTab);\n    this.DelegateEvent(\".jsEventTab\", \"click\", this.selectTab);\n    this.DelegateEvent(\".jsEventCloseTab\", \"click\", this.closeTab);\n    \n    this.DelegateEvent(\".jsRosweb\", \"click\", (e?: MouseEvent) => {\n      console.log(db);\n      e.preventDefault();\n    });\n  }\n\n  private _windowResized = (e?: MouseEvent) => {\n    this.Design.adjustWindowResize();\n  }\n  \n  public newTab = (e?: MouseEvent) => {\n    this._newTab();\n    e.preventDefault();\n  }\n  private _newTab() {\n    var tab: Tab = db.newTab();\n    tab = this.Frontend.formTab(tab);\n    this.Frontend.newTab(tab);\n    this._selectTab(tab);\n  }\n  \n  public selectTab = (e?: MouseEvent) => {\n    let tabId: number = parseInt($(e.toElement).attr(\"data-tab-id\"));\n    let tab: Tab = db.getTab(tabId);\n    this._selectTab(tab);\n    e.preventDefault();\n  }\n  private _selectTab(tab: Tab): void {\n    this.Frontend.selectTab(tab);\n  }\n  \n  public closeTab = (e?: MouseEvent) => {\n    let tabId: number = parseInt($(e.toElement).attr(\"data-tab-id\"));\n    if(confirm(\"Are you sure you want to close tab #\" + tabId + \" ?\")) {\n      this._closeTab(tabId);\n    }\n    e.preventDefault();\n  }\n  private _closeTab(tabId: number): void {\n    db.removeTab(tabId);\n    this.Frontend.closeTab(tabId);\n  }\n  \n}\n","/// <reference path=\"../typings/tsd.d.ts\" />\n\n// Super\nimport {Frontend} from \"../super/frontend.ts\";\nimport {db} from \"../super/db.ts\";\n\n// Model\nimport {Widget} from \"../model/widget.ts\";\n\n// Parent Class\nimport {EventsParent} from \"./events.ts\";\n\nexport class WidgetEvents extends EventsParent {\n\n  public Frontend : Frontend = new Frontend();\n  public Ros : ROSLIB.Ros;\n\n  constructor(ros: ROSLIB.Ros) {\n    super();\n\n    this.Ros = ros;\n\n    this.DelegateEvent(\".jsEventWidgetsMenu\", \"click\", this.widgetMenu);\n    this.DelegateEvent(\".jsEventWidgetItem\", \"click\", this.widgetItem);\n\n    this.DelegateEvent(\".jsWidgetContainer a\", \"click\", this.nothing);\n  }\n  \n  public widgetMenu = (e?: MouseEvent) => {\n    this._widgetMenu();\n    e.preventDefault();\n  }\n  private _widgetMenu() {\n    this.Frontend.showWidgetsMenu();\n  }\n  \n  public widgetItem = (e?: MouseEvent) => {\n    let widgetAlias = $(e.toElement).attr(\"data-widget-alias\");\n    this._widgetItem(widgetAlias);''\n    this._widgetMenu();\n    e.preventDefault();\n  }\n  private _widgetItem(widgetAlias: string): void {\n    let widget: Widget = db.getWidgetByAlias(widgetAlias);\n    let widgetInstance = db.newWidgetInstance(widget);\n    this.Frontend.insertWidgetInstance(widgetInstance, widgetInstance.WidgetCallbackClass.clbkCreated);\n  }\n\n}","/// <reference path=\"../typings/tsd.d.ts\" />\n\n// Types\nimport {Geometry} from \"../types/Geometry.ts\";\nimport {Subscription} from \"../model/subscription.ts\";\nimport {WidgetInstance} from \"../model/widget_instance.ts\";\n\n// Super\nimport {Frontend} from \"../super/frontend.ts\";\nimport {db} from \"../super/db.ts\";\n\n// Parent Class\nimport {EventsParent} from \"./events.ts\";\n\ndeclare var MyApp: any;\n\nexport class WidgetInstanceEvents extends EventsParent {\n\n  public Frontend: Frontend;\n  public Ros: ROSLIB.Ros;\n\n  constructor(ros: ROSLIB.Ros) {\n    super();\n\n    this.Ros = ros;\n\n    this.Frontend = new Frontend();\n\n    // Settings\n    this.DelegateEvent(\".jsWidgetConfirm\", \"click\", this.WidgetConfirm);\n    this.DelegateEvent(\".jsWidgetDelete\", \"click\", this.WidgetDelete);\n    this.DelegateEvent(\".jsWidgetSettings\", \"click\", this.WidgetSettings);\n    this.DelegateEvent(\".jsWidgetSettingsConfirm\", \"click\", this.WidgetSettingsConfirm);\n    this.DelegateEvent(\".jsWidgetSettingsCancel\", \"click\", this.WidgetSettingsCancel);\n    this.DelegateEvent(\".jsWidgetSettingsRefresh\", \"click\", this.WidgetSettingsRefresh);\n    this.DelegateEvent(\".jsWidgetSettingsRemove\", \"click\", this.WidgetSettingsRemove);\n\n    // Move and Resize\n    this.DelegateEvent(\".jsToggleMovable\", \"click\", this.ToggleMovable);\n\n    this.DelegateEvent(\".jsWidgetContainer[data-widget-conf='1']\", \"mousedown\", this.MouseDown);\n    this.DelegateEvent(document, \"mousemove\", this.MouseMove);\n    this.DelegateEvent(document, \"mouseup\", this.MouseUp);\n  }\n\n  public WidgetConfirm = (e?: MouseEvent) => {\n    $(e.toElement).closest(\".jsWidgetContainer\").attr(\"data-widget-conf\", \"0\");\n    e.preventDefault();\n  }\n\n  public WidgetDelete = (e?: MouseEvent) => {\n    $(e.toElement).closest(\".jsWidgetContainer\").remove();\n    e.preventDefault();\n  }\n\n  public WidgetSettings = (e?: MouseEvent) => {\n    let widgetInstanceId: number = parseInt($(e.toElement).attr(\"data-widget-instance-id\"));\n    $(\"#widgetSettings\").val(widgetInstanceId);\n    $(\".jsSettingsSelection\").html(\"\");\n    $(\".jsWidgetContainer[data-widget-instance-id=\" + widgetInstanceId + \"] meta[data-ros-topic=1]\").each(function (k, v) {\n      var html = MyApp.templates.rosTopicSelector({\n        widget_topic_id: $(v).attr(\"data-widget-topic-id\"),\n        widget_instance_id: widgetInstanceId,\n        desc: $(v).attr(\"data-desc\"),\n        type: $(v).attr(\"data-type\")\n      });\n      $(\".jsSettingsSelection\").append(html);\n    });\n    this.Frontend.ShowWidgetSettings();\n    this._WidgetSettingsRefresh();\n    e.preventDefault();\n  }\n\n  public WidgetSettingsRefresh = (e?: MouseEvent) => {\n    this.Frontend.LoadingLink(e.toElement);\n    $(\".jsRosTopicSelector\").attr(\"disabled\", \"disabled\");\n    this._WidgetSettingsRefresh((e?: MouseEvent) => {\n      this.Frontend.ReleaseLink(e.toElement);\n      $(\".jsRosTopicSelector\").removeAttr(\"disabled\");\n    }, e);\n    e.preventDefault();\n  }\n  private _WidgetSettingsRefresh(callback?: (e: any) => void, e?: MouseEvent) {\n    this.Ros.getTopics((response: any) => {\n      this.Frontend.UpdateRosTopicSelectors(response);\n      if (typeof (callback) === 'function') {\n        callback(e);\n      }\n    }, () => function (error: any) {\n      alert(\"Error: ROSWeb may not be connected to a RosBridge WebSocket server\");\n      console.log(error);\n    });\n  }\n\n  public WidgetSettingsConfirm = (e?: MouseEvent) => {\n    // manage subscriptions\n    $(\".jsRosTopicSelector\").each((index: number, elem: Element) => {\n      let topic_name: string = $(elem).children(\"option:selected\").attr(\"data-ros-topic-name\");\n      let topic_type: string = $(elem).children(\"option:selected\").attr(\"data-ros-topic-type\");\n      let widgetInstanceId: number = parseInt($(elem).attr(\"data-widget-instance-id\"));\n\n      let widgetInstance = db.getWidgetInstance(widgetInstanceId);\n      let htmlWidgetInstance = $(\".jsWidgetContainer[data-widget-instance-id=\" + widgetInstance.id + \"]\");\n      let htmlMeta = $(htmlWidgetInstance).find(\"meta:nth-child(\" + (index + 1) + \")\");\n      $(htmlMeta).attr(\"data-subscribed-topic\", topic_name);\n\n      let callbackName: string = $(htmlMeta).attr(\"data-clbk-fn\");\n      let callback: any = widgetInstance.WidgetCallbackClass[callbackName];\n      if ($(elem).children(\"option:selected\").val() !== \"\") {\n        let subscription = new Subscription(widgetInstance, topic_name, topic_type, callback);\n        if (widgetInstance.Subscriptions.length < (index + 1)) {\n          widgetInstance.Subscriptions.push(subscription);\n        } else {\n          widgetInstance.Subscriptions[index].topic.unsubscribe();\n          widgetInstance.Subscriptions[index] = subscription;\n        }\n      }\n    });\n\n    this.Frontend.HideWidgetSettings();\n    e.preventDefault();\n  }\n\n  public WidgetSettingsCancel = (e?: MouseEvent) => {\n    this.Frontend.HideWidgetSettings();\n    e.preventDefault();\n  }\n\n  public WidgetSettingsRemove = (e?: MouseEvent) => {\n    let widgetInstanceId: number = parseInt($(\"#widgetSettings\").val());\n    $(\".jsWidgetContainer[data-widget-instance-id=\" + widgetInstanceId + \"]\").remove();\n    this.Frontend.HideWidgetSettings();\n    e.preventDefault();\n  }\n\n  private toMove: Boolean;\n  private toResize: Boolean;\n  private widgetInstanceId: number;\n  private moveX: number;\n  private moveY: number;\n  private lastX: number;\n  private lastY: number;\n\n  public ToggleMovable = (e?: MouseEvent) => {\n    $(\".jsToggleMovable\").toggleClass(\"active\");\n    if ($(\".jsToggleMovable\").hasClass(\"active\")) {\n      $(\".jsWidgetContainer\").attr(\"data-widget-conf\", \"1\");\n    } else {\n      $(\".jsWidgetContainer\").attr(\"data-widget-conf\", \"0\");\n      this.Frontend.HideWidgetSettings();\n    }\n    e.preventDefault();\n  }\n\n  public MouseDown = (e?: MouseEvent) => {\n    if ($(e.toElement).hasClass(\"jsWidgetResize\")) {\n      this.toMove = false;\n      this.toResize = true;\n    } else {\n      this.toMove = true;\n      this.toResize = false;\n    }\n    $(\".jsWidgetContainer\").css(\"z-index\", \"20\");\n    this.widgetInstanceId = parseInt($(e.toElement).closest(\".jsWidgetContainer\").attr(\"data-widget-instance-id\"));\n    $(e.toElement).closest(\".jsWidgetContainer\").css(\"z-index\", \"30\");\n    this.lastX = e.pageX;\n    this.lastY = e.pageY;\n  }\n  public MouseMove = (e?: MouseEvent) => {\n    if (parseInt($(e.toElement).closest(\".jsWidgetContainer\").attr(\"data-widget-instance-id\")) == this.widgetInstanceId) {\n      if (this.toMove) {\n        this._WidgetMove(e);\n      }\n      if (this.toResize) {\n        this._WidgetResize(e);\n      }\n    } else {\n      if (this.toResize) {\n        this._WidgetResize(e);\n      } else {\n        this.widgetInstanceId = 0;\n      }\n    }\n\n    this.lastX = e.pageX;\n    this.lastY = e.pageY;\n  }\n  public MouseUp = (e?: MouseEvent) => {\n    this.widgetInstanceId = 0;\n    this.toMove = this.toResize = false;\n    $(\".jsWidgetContainer\").css(\"z-index\", \"20\");\n  }\n\n  private _WidgetResize(e: MouseEvent): void {\n    let d: Geometry.Point2D = this._GetMouseDistance(e);\n\n    let width: number = $(\".jsWidgetContainer[data-widget-instance-id='\" + this.widgetInstanceId + \"']\").width();\n    let height: number = $(\".jsWidgetContainer[data-widget-instance-id='\" + this.widgetInstanceId + \"']\").height();\n\n    let size: Geometry.Point2D = this._ApplySizeBoundaries({ x: width + d.x, y: height + d.y });\n    $(\".jsWidgetContainer[data-widget-instance-id='\" + this.widgetInstanceId + \"']\").width(size.x);\n    $(\".jsWidgetContainer[data-widget-instance-id='\" + this.widgetInstanceId + \"']\").height(size.y);\n\n    let widgetInstance: WidgetInstance = db.getWidgetInstance(this.widgetInstanceId);\n    widgetInstance.WidgetCallbackClass.clbkResized(size.x, size.y);\n  }\n  private _ApplySizeBoundaries(size: Geometry.Point2D): Geometry.Point2D {\n    let widthMin: number = parseInt($(\".jsWidgetContainer[data-widget-instance-id='\" + this.widgetInstanceId + \"'] .ros-widget\").attr(\"data-min-width\"));\n    let widthMax: number = parseInt($(\".jsWidgetContainer[data-widget-instance-id='\" + this.widgetInstanceId + \"'] .ros-widget\").attr(\"data-max-width\"));\n    let heightMin: number = parseInt($(\".jsWidgetContainer[data-widget-instance-id='\" + this.widgetInstanceId + \"'] .ros-widget\").attr(\"data-min-height\"));\n    let heightMax: number = parseInt($(\".jsWidgetContainer[data-widget-instance-id='\" + this.widgetInstanceId + \"'] .ros-widget\").attr(\"data-max-height\"));\n\n    if (size.x > widthMax) {\n      size.x = widthMax;\n    }\n    if (size.x < widthMin) {\n      size.x = widthMin;\n    }\n    if (size.y > heightMax) {\n      size.y = heightMax;\n    }\n    if (size.y < heightMin) {\n      size.y = heightMin;\n    }\n\n    return size;\n  }\n  private _WidgetMove(e: MouseEvent): void {\n    let d: Geometry.Point2D = this._GetMouseDistance(e);\n\n    let left: number = parseInt($(\".jsWidgetContainer[data-widget-instance-id='\" + this.widgetInstanceId + \"']\").css(\"left\"));\n    let top: number = parseInt($(\".jsWidgetContainer[data-widget-instance-id='\" + this.widgetInstanceId + \"']\").css(\"top\"));\n\n    let pos: Geometry.Point2D = this._ApplyPositionBoundaries({ x: left + d.x, y: top + d.y });\n    $(\".jsWidgetContainer[data-widget-instance-id='\" + this.widgetInstanceId + \"']\").css(\"left\", pos.x);\n    $(\".jsWidgetContainer[data-widget-instance-id='\" + this.widgetInstanceId + \"']\").css(\"top\", pos.y);\n\n    let widgetInstance: WidgetInstance = db.getWidgetInstance(this.widgetInstanceId);\n    widgetInstance.WidgetCallbackClass.clbkMoved(pos.x, pos.y);\n  }\n  private _ApplyPositionBoundaries(pos: Geometry.Point2D): Geometry.Point2D {\n    let offset: any = $(\".jsTabContent.jsShow\").offset();\n    let xMin: number = offset.left + 1;\n    let yMin: number = offset.top;\n    let xMax: number = xMin + $(\".jsTabContent.jsShow\").width() - $(\".jsWidgetContainer[data-widget-instance-id='\" + this.widgetInstanceId + \"']\").width() - 1;\n    let yMax: number = yMin + $(\".jsTabContent.jsShow\").height() - $(\".jsWidgetContainer[data-widget-instance-id='\" + this.widgetInstanceId + \"']\").height() - 1;\n\n    if (pos.x > xMax) {\n      pos.x = xMax;\n    }\n    if (pos.x < xMin) {\n      pos.x = xMin;\n    }\n    if (pos.y > yMax) {\n      pos.y = yMax;\n    }\n    if (pos.y < yMin) {\n      pos.y = yMin;\n    }\n\n    return pos;\n  }\n  private _GetMouseDistance(e: MouseEvent): Geometry.Point2D {\n    return { x: e.pageX - this.lastX, y: e.pageY - this.lastY };\n  }\n\n}\n","/// <reference path=\"./typings/tsd.d.ts\" />\n\n// Events\nimport {TabEvents} from \"./events/tab.ts\";\nimport {WidgetEvents} from \"./events/widget.ts\";\nimport {WidgetInstanceEvents} from \"./events/widget_instance.ts\";\nimport {RosEvents} from \"./events/ros.ts\";\n\n// Super\nimport {db} from \"./super/db.ts\";\nimport {Frontend} from \"./super/frontend.ts\";\n\n// Models\nimport {Widget} from \"./model/widget.ts\";\n\nexport var ros: ROSLIB.Ros = new ROSLIB.Ros(\"\");\n\nfunction init() {\n  const a: any = 1;\n  insertWidgets();\n  events(ros);\n}\n\nfunction events(ros: ROSLIB.Ros): void {\n  let tabEvents: TabEvents = new TabEvents();\n  let widgetEvents: WidgetEvents = new WidgetEvents(ros);\n  let widgetInstanceEvents: WidgetInstanceEvents = new WidgetInstanceEvents(ros);\n  let rosEvents: RosEvents = new RosEvents(ros);\n}\n\nfunction insertWidgets(): void {\n  // load list of available widgets\n  let widget = db.newWidget();\n  widget.id = 1;\n  widget.name = \"Topic Viewer\";\n  widget.alias = \"TopicViewer\";\n  widget.url = \"./widgets/topic_viewer\";\n\n  widget = db.newWidget();\n  widget.id = 2;\n  widget.name = \"Google Maps GPS Viewer\";\n  widget.alias = \"GoogleMapsGpsViewer\";\n  widget.url = \"./widgets/gmaps_gps\";\n\n  widget = db.newWidget();\n  widget.id = 3;\n  widget.name = \"Camera Viewer\";\n  widget.alias = \"CameraViewer\";\n  widget.url = \"./widgets/camera_viewer\";\n\n  widget = db.newWidget();\n  widget.id = 4;\n  widget.name = \"URDF Viewer\";\n  widget.alias = \"UrdfViewer\";\n  widget.url = \"./widgets/urdf_viewer\";\n\n  // insert Widgets JS and CSS tags\n  let frontend = new Frontend();\n  frontend.InsertWidgetsTags();\n}\n\ninit();\n","/// <reference path=\"../typings/tsd.d.ts\" />\n\n// Db\nimport {db} from \"../super/db.ts\";\nimport {ros} from \"../main.ts\";\n\n// Models\nimport {WidgetInstance} from \"./widget_instance.ts\";\n\nexport class Subscription {\n\n  public id: number;\n  public WidgetInstance: WidgetInstance;\n  public topic_name: string;\n  public topic_type: string;\n  public callback: (topic_name: string, topic_type: string, message: any) => {};\n\n  public typedef: {};\n  public topic: ROSLIB.Topic;\n\n  constructor(WidgetInstance: WidgetInstance, topic_name: string, topic_type: string, callback: (message) => {}) {\n    this.WidgetInstance = WidgetInstance;\n    this.topic_name = topic_name;\n    this.topic_type = topic_type;\n    this.callback = callback;\n\n    this._subscribe();\n  }\n\n  private _subscribe(): void {\n    this.topic = new ROSLIB.Topic({\n      ros: ros,\n      name: this.topic_name,\n      messageType: this.topic_type\n    });\n    this.topic.subscribe((message: any) => {\n      this.callback(this.topic_name, this.topic_type, message);\n    });\n  }\n  public unsubscribe(): void {\n    this.topic.unsubscribe();\n  }\n\n}","export class Tab {\n  \n  public id: number;\n  public name: string;\n  \n  constructor(name?: string) {\n    if(name) {\n      this.name = name;\n    }\n  }\n  \n}","/// <reference path=\"../typings/tsd.d.ts\" />\n\nexport class Widget {\n  \n  public id: number;\n  public name: string;\n  public image_url: string;\n  public url: string;\n  public alias: string;\n  public html: string;\n  \n  constructor() {\n  }\n  \n}\n","// Models\nimport {Geometry} from \"../types/Geometry.ts\";\nimport {Widget} from \"./widget.ts\";\nimport {Tab} from \"./tab.ts\";\nimport {Subscription} from \"./subscription.ts\";\nimport {instance_loader} from \"../super/instance_loader.ts\";\n\nexport class WidgetInstance {\n  \n  public id: number;\n  public Widget: Widget;\n  public Subscriptions: Array<Subscription>;\n  public WidgetCallbackClass: any;\n  public Tab: Tab;\n  public position: Geometry.Point2D;\n  \n  constructor(id:number, widget: Widget) {\n    this.id = id;\n    this.Widget = widget;\n    this.Subscriptions = new Array<Subscription>();\n    this.WidgetCallbackClass = instance_loader.getInstance<any>(window, \"Widget\" + this.Widget.alias.charAt(0).toUpperCase() + this.Widget.alias.slice(1), this.id);\n    // this.WidgetCallbackClass.widgetInstanceId = this.id;\n  }\n  \n}","// Models\nimport {Subscription} from \"../model/subscription.ts\";\nimport {Tab} from \"../model/tab.ts\";\nimport {Widget} from \"../model/widget.ts\";\nimport {WidgetInstance} from \"../model/widget_instance.ts\";\n\nclass Db {\n  \n  constructor() {\n    this.TabCounter = 0;\n    this.Tabs = new Array<Tab>();\n\n    this.WidgetCounter = 0;\n    this.Widgets = new Array<Widget>();\n\n    this.WidgetInstanceCounter = 0;\n    this.WidgetInstances = new Array<WidgetInstance>();\n  }\n  private saveAll(): void {\n\n  }\n\n  // ROS Topics subscriptions\n  private SubscriptionCounter: number\n  private Subscriptions: Array<Subscription>;\n  \n  // Tab\n  private TabCounter: number;\n  private Tabs: Array<Tab>;\n  public newTab(): Tab {\n    let tab = new Tab();\n    tab.id = ++this.TabCounter;\n    this.Tabs.push(tab);\n    return tab;\n  }\n  public getTab(id: number): Tab {\n    for(let tab of this.Tabs) {\n      if(tab.id == id) return tab;\n    }\n    return null;\n  }\n  public removeTab(tab_id: number): boolean {\n    let index: number = 0;\n    for(let tab of this.Tabs) {\n      if(tab.id == tab_id) {\n        this.Tabs.splice(index, 1);\n        return true;\n      }\n      index++;\n    }\n    return false;\n  }\n  \n  // Widget\n  private WidgetCounter: number;\n  public Widgets: Array<Widget>;\n  public newWidget(): Widget {\n    let widget = new Widget();\n    widget.id = ++this.WidgetCounter;\n    this.Widgets.push(widget);\n    return widget;\n  }\n  public setWidget(widget: Widget) : void {\n    return;\n  }\n  public getWidget(id: number): Widget {\n    for(let widget of this.Widgets) {\n      if(widget.id == id) return widget;\n    }\n    return null;\n  }\n  public getWidgetByAlias(widgetAlias: string): Widget {\n    let widget = new Widget();\n    let toReturn: Widget = null;\n    this.Widgets.forEach(widget => {\n      if (widget.alias === widgetAlias) {\n        toReturn = widget;\n      }\n    });\n    if (toReturn === null) throw \"Error: Widget alias not found!\";\n    return toReturn;\n  }\n  public removeWidget(widget_id: number): boolean {\n    let index: number = 0;\n    for(let widget of this.Widgets) {\n      if(widget.id == widget_id) {\n        this.Widgets.splice(index, 1);\n        return true;\n      }\n      index++;\n    }\n    return false;\n  }\n\n  // Widget Instance\n  private WidgetInstanceCounter: number;\n  private WidgetInstances: Array<WidgetInstance>;\n  public newWidgetInstance(widget: Widget): WidgetInstance {\n    let id: number = ++this.WidgetInstanceCounter;\n    let widgetInstance = new WidgetInstance(id, widget);\n    this.WidgetInstances.push(widgetInstance);\n    return widgetInstance;\n  }\n  public getWidgetInstance(id: number): WidgetInstance {\n    for(let widgetInstance of this.WidgetInstances) {\n      if(widgetInstance.id == id) return widgetInstance;\n    }\n    return null;\n  }\n  public removeWidgetInstance(widgetInstance_id: number): boolean {\n    let index: number = 0;\n    for(let widgetInstance of this.WidgetInstances) {\n      if(widgetInstance.id == widgetInstance_id) {\n        this.WidgetInstances.splice(index, 1);\n        return true;\n      }\n      index++;\n    }\n    return false;\n  }\n  \n}\n\nexport var db: Db = new Db();\n","/// <reference path=\"../typings/tsd.d.ts\" />\n\nexport class Design {\n\n  public tabTopOffset: number = 0;\n  public tabHeight: number = 0;\n\n  constructor() {\n    this.adjustWindowResize();\n  }\n\n  public adjustWindowResize(): void {\n    this._calculateTabTopOffset();\n    this._adjustContentHeight();\n    this._adjustWidgetsHeight();\n  }\n\n  private _calculateTabTopOffset(): void {\n    let totalHeight = $(window).height();\n    let usedHeight = this._getTotalHeight(\"#header1\") + this._getTotalHeight(\"#header2\");\n    this.tabHeight = totalHeight - usedHeight;\n    this.tabTopOffset = usedHeight;\n  }\n\n  private _adjustContentHeight(): void {\n    $(\"#content\").height(this.tabHeight);\n  }\n\n  private _adjustWidgetsHeight(): void {\n    $(\".jsWidgetsContainer\").height(this.tabHeight).css(\"top\", this.tabTopOffset);\n    $(\".jsMenuWidgetsSettings\").height(this.tabHeight).css(\"top\", this.tabTopOffset);\n  }\n\n  private _getTotalHeight(selector: string): number {\n    let pad: number = parseInt($(selector).css(\"paddingTop\")) + parseInt($(selector).css(\"paddingBottom\"));\n    let hei: number = $(selector).height();\n    let bor: number = parseInt($(selector).css(\"borderTopWidth\")) + parseInt($(selector).css(\"borderBottomWidth\"));\n    let totalHeight: number = pad + hei + bor;\n    return totalHeight;\n  }\n\n}","/// <reference path=\"../typings/tsd.d.ts\" />\n\n// Models\nimport {Tab} from \"../model/tab.ts\";\nimport {Widget} from \"../model/widget.ts\";\nimport {WidgetInstance} from \"../model/widget_instance.ts\";\n\n// Super classes\nimport {Names} from \"./names.ts\";\nimport {Trigger} from \"./trigger.ts\";\nimport {db} from \"./db.ts\";\n\ndeclare var MyApp: any;\n\ninterface TypeDef {\n  examples: string[],\n  fieldarraylen: number[],\n  fieldnames: string[],\n  fieldtypes: string[],\n  type: string\n}\n\nexport class Frontend {\n\n  public tabContainerId: string;\n  public tabContentContainerId: string;\n\n  private Names: Names;\n  public Trigger: Trigger;\n\n  private ActiveTabId: number;\n\n  constructor() {\n    this.tabContainerId = \"header2\";\n    this.tabContentContainerId = \"tabs\";\n\n    this.Names = new Names();\n    this.Trigger = new Trigger();\n  }\n\n  public InsertWidgetsTags(): void {\n    db.Widgets.forEach((value: Widget, index: number, array: Widget[]) => {\n      $(\"body\").append(\"<script type='text/javascript' src='\" + value.url.slice(2) + \"/main.js\" + \"'></script>\");\n      $(\"body\").append(\"<link rel='stylesheet' type='text/css' href='\" + value.url.slice(2) + \"/main.css\" + \"' />\");\n    });\n  }\n\n  public LoadingLink(element: Element, disabled: Boolean = true) {\n    if (disabled) {\n      $(element).addClass(\"disabled\");\n    } else {\n      $(element).removeClass(\"disabled\");\n    }\n  }\n  public ReleaseLink(element: Element) {\n    this.LoadingLink(element, false);\n  }\n\n  public formTab(tab?: Tab): Tab {\n    if (tab) {\n      tab.name = \"tab #\" + tab.id;\n      return tab;\n    }\n    return new Tab();\n  }\n\n  public newTab(tab: Tab): void {\n    var tabHtml = MyApp.templates.tab(tab);\n    var tabContentHtml = MyApp.templates.tabContent(tab);\n    // insert tab\n    $(tabHtml).insertBefore(\"#\" + this.tabContainerId + \" > .clearfix\");\n    //document.getElementById(this.tabContainerId).innerHTML += tabHtml;\n    // insert tab content\n    document.getElementById(this.tabContentContainerId).innerHTML += tabContentHtml;\n  }\n\n  public closeTab(tab_id: number): void {\n    $(\".jsTab[data-tab-id='\" + tab_id + \"']\").remove();\n    $(\".jsTabContent[data-tab-id='\" + tab_id + \"']\").remove();\n  }\n\n  public selectTab(tab: Tab): void {\n    let parentClassName = this.Names.classTabParent;\n    $(\".\" + parentClassName).removeClass(\"jsActive\");\n    $(\".\" + parentClassName + \"[data-tab-id=\" + tab.id + \"]\").addClass(\"jsActive\");\n    let className = this.Names.eventsClassPrefix + \"Tab\";\n    $(\".\" + className).removeClass(\"jsActive\");\n    $(\".\" + className + \"[data-tab-id=\" + tab.id + \"]\").addClass(\"jsActive\");\n    let tabClassName = this.Names.classTabContent;\n    $(\".\" + tabClassName).removeClass(\"jsShow\").addClass(\"jsHide\");\n    $(\".\" + tabClassName + \"[data-tab-id=\" + tab.id + \"]\").removeClass(\"jsHide\").addClass(\"jsShow\");\n    this.ActiveTabId = tab.id;\n  }\n\n  public showWidgetsMenu(): void {\n    this.widgetsList(db.Widgets);\n    $(\".\" + this.Names.classWidgetsContainer).animate({ width: 'toggle' });\n  }\n  public widgetsList(list: Array<Widget>): void {\n    var html = MyApp.templates.widgetList(list);\n    $(\".\" + this.Names.classWidgetsList).html(html);\n  }\n  private _loadWidgetContentAndInsert(widgetInstance: WidgetInstance, afterContentCallback: any): void {\n    let currentTabId: number = this._getForcedCurrentTabId();\n    let fn = this._insertWidget;\n    $.ajax({\n      url: widgetInstance.Widget.url.slice(2) + \"/index.hbs\",\n      beforeSend: function () {\n\n      },\n      success: function (data: string) {\n        MyApp.templates._widgetsTemplates[widgetInstance.Widget.alias] = Handlebars.compile(data);\n        fn(widgetInstance, currentTabId, afterContentCallback);\n      },\n      error: function (e1: any, e2: any) {\n        throw \"Widget file not found!\";\n      }\n    });\n  }\n\n  public insertWidgetInstance(widgetInstance: WidgetInstance, afterContentCallback: any): void {\n    if (MyApp.templates._widgetsTemplates === undefined) {\n      MyApp.templates._widgetsTemplates = [];\n    }\n    if (MyApp.templates._widgetsTemplates[widgetInstance.Widget.alias] === undefined) {\n      this._loadWidgetContentAndInsert(widgetInstance, afterContentCallback);\n    } else {\n      let currentTabId: number = this._getForcedCurrentTabId();\n      this._insertWidget(widgetInstance, currentTabId, afterContentCallback);\n    }\n  }\n\n  private _insertWidget(widgetInstance: WidgetInstance, currentTabId: number, afterContentCallback: any): void {\n    let content: string, html: string;\n    content = MyApp.templates._widgetsTemplates[widgetInstance.Widget.alias]();\n    let width: string = $(content).attr(\"data-min-width\") + \"px\";\n    let height: string = $(content).attr(\"data-min-height\") + \"px\";\n    let left: string, top: string;\n    left = ($(\".jsTabContent.jsShow\").width() / 2).toString() + \"px\";\n    top = ($(\".jsTabContent.jsShow\").height() / 2).toString() + \"px\";\n    html = MyApp.templates.widget({ WidgetInstance: widgetInstance, content: content, left: left, top: top, width: width, height: height });\n    $(\"div.jsTabContent[data-tab-id=\" + currentTabId + \"]\").append(html);\n    let trigger = new Trigger();\n    trigger.widgetSettings(widgetInstance.id);\n    afterContentCallback();\n  }\n\n  private _getForcedCurrentTabId(): number {\n    let currentTabId: number = this._getCurrentTabId();\n    if (currentTabId === 0) {\n      this.Trigger.newTab();\n    }\n    return this._getCurrentTabId();\n  }\n  private _getCurrentTabId(): number {\n    let tabIdStr: string = $(\"div.jsTab.jsActive\").attr(\"data-tab-id\");\n    if (tabIdStr === undefined) {\n      return 0;\n    }\n    let tabId: number = parseInt(tabIdStr);\n    return tabId;\n  }\n\n  public ShowWidgetSettings(): void {\n    $(\".jsMenuWidgetsSettings\").animate({ right: 0 });\n  }\n  public HideWidgetSettings(): void {\n    $(\".jsMenuWidgetsSettings\").animate({ right: -300 });\n    $(\".jsWidgetContainer\").attr(\"data-widget-conf\", \"0\");\n    $(\".jsToggleMovable\").removeClass(\"active\");\n  }\n\n  public UpdateRosTopicSelectors(response: { topics: string[], types: string[], details: TypeDef[] }): void {\n    $(\".jsRosTopicSelector\").html(\"\");\n    var html = '';\n    $(\".jsRosTopicSelector\").each((i: number, element: Element) => {\n      let elementWidgetInstance = $(\".jsWidgetContainer[data-widget-instance-id=\" + $(element).attr(\"data-widget-instance-id\") + \"]\");\n      let elementMeta = $(elementWidgetInstance).find(\"meta[data-widget-topic-id='\" + $(element).attr(\"data-widget-topic-id\") + \"']\");\n      let subscribedTopic: string = $(elementMeta).attr(\"data-subscribed-topic\");\n\n      html = MyApp.templates.rosTopicSelectorOptions({ name: '-- Select a topic to subscribe --', value: \"\" });\n      let strTypes: string = $(element).attr(\"data-ros-topic-type\");\n      let types = (strTypes == \"\") ? [] : strTypes.split(\"|\");\n      response.topics.forEach((value: string, index: number) => {\n        let selected: boolean = (value == subscribedTopic) ? true : false;\n        if ((types.indexOf(response.types[index]) > -1) || types.length == 0) {\n          html += MyApp.templates.rosTopicSelectorOptions({ name: value, value: value, type: response.types[index], selected: selected });\n        }\n      });\n      $(element).append(html);\n    });\n  }\n\n}\n","class InstanceLoader {\n  public getInstance<T>(context: Object, name: string, ...args: any[]): T {\n    var instance = Object.create(context[name].prototype);\n    instance.constructor.apply(instance, args);\n    return <T>instance;\n  }\n}\n\nexport var instance_loader: InstanceLoader = new InstanceLoader();\n","export class Names {\n  \n  public eventsClassPrefix: string = \"jsEvent\";\n  \n  public classTabParent: string = \"jsTab\";\n  public classTabContent: string = \"jsTabContent\";\n  \n  public classWidgetsContainer: string = \"jsWidgetsContainer\";\n  public classWidgetsSettings: string = \"jsWidgetsSettings\";\n  public classWidgets: string = \"jsWidgets\";\n  public classWidgetsList: string = \"jsWidgetsList\";\n  \n  constructor() {\n    \n  }\n  \n}","/// <reference path=\"../typings/tsd.d.ts\" />\n\nexport class Trigger {\n\n  constructor() {\n    \n  }\n  \n  public newTab(): void  {\n    $(\".jsEventNewTab\")[0].click();\n  }\n\n  public widgetSettings(widgetInstanceId: number): void {\n    $(\".jsWidgetSettings[data-widget-instance-id=\" + widgetInstanceId + \"]\")[0].click();\n  }\n\n}"]}