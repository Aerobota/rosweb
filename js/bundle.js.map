{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","src/ts/events/events.ts","src/ts/events/ros.ts","src/ts/events/tab.ts","src/ts/events/widget.ts","src/ts/events/widget_instance.ts","src/ts/events/workspace.ts","src/ts/main.ts","src/ts/model/rosweb.ts","src/ts/model/tab.ts","src/ts/model/widget.ts","src/ts/model/widget_instance.ts","src/ts/model/workspace.ts","src/ts/super/db.ts","src/ts/super/design.ts","src/ts/super/frontend.ts","src/ts/super/instance_loader.ts","src/ts/super/lightbox.ts","src/ts/super/names.ts","src/ts/super/storage.ts","src/ts/super/trigger.ts"],"names":[],"mappings":"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","file":"bundle.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/// <reference path=\"../typings/tsd.d.ts\" />\n\nimport {db} from \"../super/db.ts\";\nimport {lightbox} from \"../super/lightbox.ts\";\n\nexport class EventsParent {\n\n  constructor() {\n    this.DelegateEvent(\"#lightboxBackground\", \"click\", this.HideLightbox);\n    this.DelegateEvent(\"#lightbox\", \"click\", this.Lightbox);\n  }\n\n  public nothing = (e?: MouseEvent) => {\n    e.preventDefault();\n  }\n\n  public DelegateEvent(selector: string | Document | Window, event: string, method: () => void) {\n    if (event == \"resize\") {\n      $(selector).resize(method);\n    }\n    $(document).delegate(selector, event, method);\n  }\n\n  public DelegateElementCreated(selector: string, method: () => void) {\n    $('body').on('DOMNodeInserted', selector, method);\n  }\n\n  public HideLightbox = (e?: MouseEvent) => {\n    lightbox.CloseLightbox();\n    e.preventDefault();\n  }\n\n  public Lightbox = (e?: MouseEvent) => {\n    e.stopPropagation();\n  }\n\n}\n","/// <reference path=\"../typings/tsd.d.ts\" />\n\n// Parent Class\nimport {EventsParent} from \"./events.ts\";\n\nexport class RosEvents extends EventsParent {\n\n  public Ros: ROSLIB.Ros;\n  public connected: boolean = false;\n\n  constructor(ros: ROSLIB.Ros) {\n    super();\n    \n    this.Ros = ros;\n    this.Ros.on(\"connection\", this.OnRosConnection);\n    this.Ros.on(\"close\", this.OnRosClose);\n    this.Ros.on(\"error\", this.OnRosError);\n    this.DelegateEvent(\".jsRosConnect\", \"click\", this.Connect);\n  }\n\n  public Connect = (e?: MouseEvent) => {\n    if($(\".jsRosConnect\").hasClass(\"loading\")) {\n      return;\n    }\n    $(\".jsRosConnect\").addClass(\"loading\");\n\n    if(!this.connected) {\n      let url : string = \"ws://\" + $(\".jsRosUrl\").val();\n      this.Ros.connect(url);\n    } else {\n      this.Ros.close();\n    }\n    e.preventDefault();\n  }\n  private OnRosConnection = () => {\n    this.connected = true;\n    $(\".jsRosConnect\").addClass(\"active\");\n    $(\".jsRosConnect\").removeClass(\"loading\");\n  }\n  private OnRosClose = () => {\n    this.connected = false;\n    $(\".jsRosConnect\").removeClass(\"active\");\n    $(\".jsRosConnect\").removeClass(\"loading\");\n  }\n  private OnRosError = (error: any) => {\n    this.Ros.close();\n    this.connected = false;\n    $(\".jsRosConnect\").removeClass(\"active\");\n    $(\".jsRosConnect\").removeClass(\"loading\");\n    console.log(error);\n  }\n\n}","/// <reference path=\"../typings/tsd.d.ts\" />\n\n// Parent Class\nimport {EventsParent} from \"./events.ts\";\n\n// Models\nimport {Tab} from \"../model/tab.ts\";\n\n// Super classes\nimport {db} from \"../super/db.ts\";\nimport {Design} from \"../super/design.ts\";\nimport {Frontend} from \"../super/frontend.ts\";\n\nexport class TabEvents extends EventsParent {\n  \n  private Frontend: Frontend;\n  private Design: Design;\n  \n  constructor() {\n    super();\n\n    this.Frontend = new Frontend();\n    this.Design = new Design();\n\n    // render list\n    this.Frontend.widgetsList(db.Widgets);\n\n    // Resize Events\n    this.DelegateEvent(window, \"resize\", this._windowResized);\n    \n    // Left Click Events\n    this.DelegateEvent(\".jsEventNothing\", \"click\", this.nothing);\n    this.DelegateEvent(\".jsEventNewTab\", \"click\", this.newTab);\n    this.DelegateEvent(\".jsEventTab\", \"click\", this.selectTab);\n    this.DelegateEvent(\".jsEventCloseTab\", \"click\", this.closeTab);\n    \n    this.DelegateEvent(\".jsRosweb\", \"click\", (e?: MouseEvent) => {\n      console.log(db);\n      e.preventDefault();\n    });\n  }\n\n  private _windowResized = (e?: MouseEvent) => {\n    this.Design.adjustWindowResize();\n  }\n  \n  public newTab = (e?: MouseEvent) => {\n    this._newTab();\n    e.preventDefault();\n  }\n  private _newTab() {\n    var tab: Tab = db.newTab();\n    tab = this.Frontend.formTab(tab);\n    this.Frontend.newTab(tab);\n    this._selectTab(tab);\n  }\n  \n  public selectTab = (e?: MouseEvent) => {\n    let tabId: number = parseInt($(e.toElement).attr(\"data-tab-id\"));\n    let tab: Tab = db.getTab(tabId);\n    this._selectTab(tab);\n    e.preventDefault();\n  }\n  private _selectTab(tab: Tab): void {\n    this.Frontend.selectTab(tab);\n  }\n  \n  public closeTab = (e?: MouseEvent) => {\n    let tabId: number = parseInt($(e.toElement).attr(\"data-tab-id\"));\n    if(confirm(\"Are you sure you want to close tab #\" + tabId + \" ?\")) {\n      this._closeTab(tabId);\n    }\n    e.preventDefault();\n  }\n  private _closeTab(tabId: number): void {\n    db.removeTab(tabId);\n    this.Frontend.closeTab(tabId);\n  }\n  \n}\n","/// <reference path=\"../typings/tsd.d.ts\" />\n\n// Super\nimport {Frontend} from \"../super/frontend.ts\";\nimport {db} from \"../super/db.ts\";\n\n// Model\nimport {Widget} from \"../model/widget.ts\";\n\n// Parent Class\nimport {EventsParent} from \"./events.ts\";\n\nexport class WidgetEvents extends EventsParent {\n\n  public Frontend : Frontend = new Frontend();\n  public Ros : ROSLIB.Ros;\n\n  constructor(ros: ROSLIB.Ros) {\n    super();\n\n    this.Ros = ros;\n\n    this.DelegateEvent(\".jsEventWidgetsMenu\", \"click\", this.widgetMenu);\n    this.DelegateEvent(\".jsEventWidgetItem\", \"click\", this.widgetItem);\n\n    this.DelegateEvent(\".jsWidgetContainer a\", \"click\", this.nothing);\n  }\n  \n  public widgetMenu = (e?: MouseEvent) => {\n    this._widgetMenu();\n    e.preventDefault();\n  }\n  private _widgetMenu() {\n    this.Frontend.showWidgetsMenu();\n  }\n  \n  public widgetItem = (e?: MouseEvent) => {\n    let widgetAlias = $(e.toElement).attr(\"data-widget-alias\");\n    this._widgetItem(widgetAlias);\n    this._widgetMenu();\n    e.preventDefault();\n  }\n  private _widgetItem(widgetAlias: string): void {\n    let widget: Widget = db.getWidgetByAlias(widgetAlias);\n    let widgetInstance = db.newWidgetInstance(widget);\n    this.Frontend.insertWidgetInstance(widgetInstance, widgetInstance.WidgetCallbackClass.clbkCreated);\n  }\n\n}","/// <reference path=\"../typings/tsd.d.ts\" />\n\n// Types\nimport {Geometry} from \"../types/Geometry.ts\";\nimport {Subscription} from \"../model/subscription.ts\";\nimport {WidgetInstance} from \"../model/widget_instance.ts\";\n\n// Super\nimport {Frontend} from \"../super/frontend.ts\";\nimport {db} from \"../super/db.ts\";\n\n// Parent Class\nimport {EventsParent} from \"./events.ts\";\n\ndeclare var MyApp: any;\n\nexport class WidgetInstanceEvents extends EventsParent {\n\n  public Frontend: Frontend;\n  public Ros: ROSLIB.Ros;\n\n  constructor(ros: ROSLIB.Ros) {\n    super();\n\n    this.Ros = ros;\n\n    this.Frontend = new Frontend();\n\n    // Settings\n    this.DelegateEvent(\".jsWidgetConfirm\", \"click\", this.WidgetConfirm);\n    this.DelegateEvent(\".jsWidgetDelete\", \"click\", this.WidgetDelete);\n    this.DelegateEvent(\".jsWidgetSettings\", \"click\", this.WidgetSettings);\n    this.DelegateEvent(\".jsWidgetContainer\", \"dblclick\", this.WidgetContainerDblClick);\n    this.DelegateEvent(\".jsWidgetSettingsConfirm\", \"click\", this.WidgetSettingsConfirm);\n    this.DelegateEvent(\".jsWidgetSettingsCancel\", \"click\", this.WidgetSettingsCancel);\n    this.DelegateEvent(\".jsWidgetSettingsRefresh\", \"click\", this.WidgetSettingsRefresh);\n    this.DelegateEvent(\".jsWidgetSettingsRemove\", \"click\", this.WidgetSettingsRemove);\n\n    // Move and Resize\n    this.DelegateEvent(\".jsToggleMovable\", \"click\", this.ToggleMovable);\n\n    this.DelegateEvent(\".jsWidgetContainer[data-widget-conf='1']\", \"mousedown\", this.MouseDown);\n    this.DelegateEvent(document, \"mousemove\", this.MouseMove);\n    this.DelegateEvent(document, \"mouseup\", this.MouseUp);\n  };\n\n  public WidgetConfirm = (e?: MouseEvent) => {\n    $(e.toElement).closest(\".jsWidgetContainer\").attr(\"data-widget-conf\", \"0\");\n    e.preventDefault();\n  };\n\n  public WidgetDelete = (e?: MouseEvent) => {\n    $(e.toElement).closest(\".jsWidgetContainer\").remove();\n    e.preventDefault();\n  };\n\n  public WidgetSettings = (e?: MouseEvent) => {\n    let widgetInstanceId: number = parseInt($(e.toElement).attr(\"data-widget-instance-id\"));\n    this._WidgetSettings(widgetInstanceId);\n    e.preventDefault();\n  };\n  private _WidgetSettings(widgetInstanceId: number): void {\n    $(\"#widgetSettings\").val(widgetInstanceId);\n    $(\".jsSettingsSelection\").html(\"\");\n\n    // generate fields\n    this._WidgetSettingsSubscriptions(widgetInstanceId);\n    this._WidgetSettingsRosParams(widgetInstanceId);\n    this._WidgetSettingsRosServices(widgetInstanceId);\n    this._WidgetSettingsParams(widgetInstanceId);\n\n    // frontend actions\n    this.Frontend.ShowWidgetSettings();\n    this._WidgetSettingsRefresh();\n  }\n\n  private _WidgetSettingsSubscriptions(widgetInstanceId: number): void {\n    $(\".jsWidgetContainer[data-widget-instance-id=\" + widgetInstanceId + \"] meta[data-ros-topic=1]\").each(function (k, v) {\n      var html = MyApp.templates.rosTopicSelector({\n        widget_instance_id: widgetInstanceId,\n        ros_topic_id: $(v).attr(\"data-ros-topic-id\"),\n        ros_topic_chng: $(v).attr(\"data-ros-topic-chng\"),\n        ros_topic_desc: $(v).attr(\"data-ros-topic-desc\"),\n        ros_topic_type: $(v).attr(\"data-ros-topic-type\")\n      });\n      $(\".jsSettingsSelection\").append(html);\n    });\n  };\n  private _WidgetSettingsRosParams(widgetInstanceId: number): void {\n    $(\".jsWidgetContainer[data-widget-instance-id=\" + widgetInstanceId + \"] meta[data-ros-param=1]\").each(function (k, v) {\n      var html = MyApp.templates.rosParamSelector({\n        widget_instance_id: widgetInstanceId,\n        ros_param_id: $(v).attr(\"data-ros-param-id\"),\n        ros_param_desc: $(v).attr(\"data-ros-param-desc\"),\n        ros_param_chng: $(v).attr(\"data-ros-param-chng\")\n      });\n      $(\".jsSettingsSelection\").append(html);\n    });\n  };\n  private _WidgetSettingsRosServices(widgetInstanceId: number): void {\n    $(\".jsWidgetContainer[data-widget-instance-id=\" + widgetInstanceId + \"] meta[data-ros-service=1]\").each(function (k, v) {\n      var html = MyApp.templates.rosServiceSelector({\n        widget_instance_id: widgetInstanceId,\n        ros_service_id: $(v).attr(\"data-ros-service-id\"),\n        ros_service_desc: $(v).attr(\"data-ros-service-desc\"),\n        ros_service_chng: $(v).attr(\"data-ros-service-chng\")\n      });\n      $(\".jsSettingsSelection\").append(html);\n    });\n  };\n  private _WidgetSettingsParams(widgetInstanceId: number): void {\n    $(\".jsWidgetContainer[data-widget-instance-id=\" + widgetInstanceId + \"] meta[data-wdgt-param=1]\").each(function (k, v) {\n      var html = MyApp.templates.wdgtParamField({\n        widget_instance_id: widgetInstanceId,\n        widget_param_id: $(v).attr(\"data-widget-param-id\"),\n        widget_param_desc: $(v).attr(\"data-widget-param-desc\"),\n        widget_param_var: $(v).attr(\"data-widget-param-var\"),\n        default_value: $(v).attr(\"data-widget-param-value\")\n      });\n      $(\".jsSettingsSelection\").append(html);\n    });\n  };\n\n  public WidgetContainerDblClick = (e?: MouseEvent) => {\n    let widgetInstanceId = parseInt($(e.toElement).closest(\".jsWidgetContainer\").attr(\"data-widget-instance-id\"));\n    this.ToggleMovable();\n    if ($(\".jsToggleMovable\").hasClass(\"active\")) {\n      this._WidgetSettings(widgetInstanceId);\n    }\n    document.getSelection().removeAllRanges();\n    e.preventDefault();\n  }\n\n  public WidgetSettingsRefresh = (e?: MouseEvent) => {\n    this.Frontend.LoadingLink($(\".jsWidgetSettingsRefresh\")[0]);\n    $(\".jsRosTopicSelector\").attr(\"disabled\", \"disabled\");\n    this._WidgetSettingsRefresh();\n    e.preventDefault();\n  };\n  private _WidgetSettingsRefresh() {\n    this._WidgetSettingsRefreshTopics();\n  };\n  private _WidgetSettingsRefreshTopics() {\n    this.Ros.getTopics((topicsResponse: any) => {\n      this.Frontend.UpdateRosTopicSelectors(topicsResponse);\n      this._WidgetSettingsRefreshParams();\n    }, () => function (topicsError: any) {\n      alert(\"Error: ROSWeb may not be connected to a RosBridge WebSocket server\");\n      console.log(topicsError);\n    });\n  };\n  private _WidgetSettingsRefreshParams() {\n    this.Ros.getParams((paramsResponse: any) => {\n      this.Frontend.UpdateRosParamSelectors(paramsResponse);\n      this._WidgetSettingsRefreshsServices();\n    }, () => function (paramsError: any) {\n      alert(\"Error: ROSWeb may not be connected to a RosBridge WebSocket server\");\n      console.log(paramsError);\n    });\n  };\n  private _WidgetSettingsRefreshsServices() {\n    this.Ros.getServices((servicesResponse: any) => {\n      this.Frontend.UpdateRosServiceSelectors(servicesResponse);\n      this.Frontend.LoadingLink($(\".jsWidgetSettingsRefresh\")[0], false);\n    }, () => function (servicesError: any) {\n      alert(\"Error: ROSWeb may not be connected to a RosBridge WebSocket server\");\n      console.log(servicesError);\n    });\n  };\n\n  public WidgetSettingsConfirm = (e?: MouseEvent) => {\n    // manage ros data\n    this._WidgetSettingsConfirmSubscriptions();\n    this._WidgetSettingsConfirmRosParams();\n    this._WidgetSettingsConfirmRosServices();\n\n    // manage params\n    this._WidgetSettingsConfirmParams();\n\n    // frontend action\n    this.Frontend.HideWidgetSettings();\n    e.preventDefault();\n  };\n  private _WidgetSettingsConfirmSubscriptions(): void {\n    $(\".jsRosTopicSelector\").each((index: number, elem: Element) => {\n      let topic_name: string = $(elem).val();\n      let widgetInstanceId: number = parseInt($(elem).attr(\"data-widget-instance-id\"));\n      let widgetInstance = db.getWidgetInstance(widgetInstanceId);\n\n      let topicChangeCallback: string = $(elem).attr(\"data-ros-topic-chng\");\n      widgetInstance.WidgetCallbackClass[topicChangeCallback](topic_name);\n\n      let rosTopicId = $(elem).attr(\"data-ros-topic-id\");\n      let htmlWidgetInstance = $(\".jsWidgetContainer[data-widget-instance-id=\" + widgetInstanceId + \"]\");\n      let htmlMeta = $(htmlWidgetInstance).find(\"meta[data-ros-topic-id=\" + rosTopicId + \"]\");\n      $(htmlMeta).attr(\"data-ros-topic-slctd\", topic_name);\n    });\n  };\n  private _WidgetSettingsConfirmRosParams(): void {\n    $(\".jsRosParamSelector\").each((index: number, elem: Element) => {\n      let widgetInstanceId: number = parseInt($(elem).attr(\"data-widget-instance-id\"));\n      let widgetInstance = db.getWidgetInstance(widgetInstanceId);\n\n      let paramChangeCallback: any = $(elem).attr(\"data-ros-param-chng\");\n      let paramSelected: string = $(elem).val();\n      widgetInstance.WidgetCallbackClass[paramChangeCallback](paramSelected);\n\n      let rosParamId = $(elem).attr(\"data-ros-param-id\");\n      let htmlWidgetInstance = $(\".jsWidgetContainer[data-widget-instance-id=\" + widgetInstanceId + \"]\");\n      let htmlMeta = $(htmlWidgetInstance).find(\"meta[data-ros-param-id=\" + rosParamId + \"]\");\n      $(htmlMeta).attr(\"data-ros-param-slctd\", paramSelected);\n    });\n  };\n  private _WidgetSettingsConfirmRosServices(): void {\n    $(\".jsRosServiceSelector\").each((index: number, elem: Element) => {\n      let widgetInstanceId: number = parseInt($(elem).attr(\"data-widget-instance-id\"));\n      let widgetInstance = db.getWidgetInstance(widgetInstanceId);\n\n      let serviceChangeCallback: any = $(elem).attr(\"data-ros-service-chng\");\n      let serviceSelected: string = $(elem).val();\n      widgetInstance.WidgetCallbackClass[serviceChangeCallback](serviceSelected);\n\n      let rosServiceId = $(elem).attr(\"data-ros-service-id\");\n      let htmlWidgetInstance = $(\".jsWidgetContainer[data-widget-instance-id=\" + widgetInstanceId + \"]\");\n      let htmlMeta = $(htmlWidgetInstance).find(\"meta[data-ros-service-id=\" + rosServiceId + \"]\");\n      $(htmlMeta).attr(\"data-ros-service-slctd\", serviceSelected);\n    });\n  }\n  private _WidgetSettingsConfirmParams(): void {\n    $(\".jsWidgetParam\").each((index: number, elem: Element) => {\n      let widgetInstanceId: number = parseInt($(elem).attr(\"data-widget-instance-id\"));\n      let widgetInstance = db.getWidgetInstance(widgetInstanceId);\n\n      let varName = $(elem).attr(\"data-widget-param-var\");\n      let varValue = $(elem).val();\n      widgetInstance.WidgetCallbackClass[varName] = varValue;\n\n      let widgetParamId = $(elem).attr(\"data-widget-param-id\");\n      let htmlWidgetInstance = $(\".jsWidgetContainer[data-widget-instance-id=\" + widgetInstanceId + \"]\");\n      let htmlMeta = $(htmlWidgetInstance).find(\"meta[data-widget-param-id=\" + widgetParamId + \"]\");\n      $(htmlMeta).attr(\"data-widget-param-value\", varValue);\n    });\n  };\n\n  public WidgetSettingsCancel = (e?: MouseEvent) => {\n    this.Frontend.HideWidgetSettings();\n    e.preventDefault();\n  };\n\n  public WidgetSettingsRemove = (e?: MouseEvent) => {\n    let widgetInstanceId: number = parseInt($(\"#widgetSettings\").val());\n    $(\".jsWidgetContainer[data-widget-instance-id=\" + widgetInstanceId + \"]\").remove();\n    this.Frontend.HideWidgetSettings();\n    e.preventDefault();\n  };\n\n  private toMove: Boolean;\n  private toResize: Boolean;\n  private widgetInstanceId: number;\n  private moveX: number;\n  private moveY: number;\n  private lastX: number;\n  private lastY: number;\n\n  public ToggleMovable = (e?: MouseEvent) => {\n    $(\".jsToggleMovable\").toggleClass(\"active\");\n    if ($(\".jsToggleMovable\").hasClass(\"active\")) {\n      $(\".jsWidgetContainer\").attr(\"data-widget-conf\", \"1\");\n    } else {\n      $(\".jsWidgetContainer\").attr(\"data-widget-conf\", \"0\");\n      this.Frontend.HideWidgetSettings();\n    }\n    if (e != undefined) e.preventDefault();\n  };\n\n  public MouseDown = (e?: MouseEvent) => {\n    if ($(e.toElement).hasClass(\"jsWidgetResize\")) {\n      this.toMove = false;\n      this.toResize = true;\n    } else {\n      this.toMove = true;\n      this.toResize = false;\n    }\n    $(\".jsWidgetContainer\").css(\"z-index\", \"20\");\n    this.widgetInstanceId = parseInt($(e.toElement).closest(\".jsWidgetContainer\").attr(\"data-widget-instance-id\"));\n    $(e.toElement).closest(\".jsWidgetContainer\").css(\"z-index\", \"30\");\n    this.lastX = e.pageX;\n    this.lastY = e.pageY;\n  };\n  public MouseMove = (e?: MouseEvent) => {\n    if (parseInt($(e.toElement).closest(\".jsWidgetContainer\").attr(\"data-widget-instance-id\")) == this.widgetInstanceId) {\n      if (this.toMove) {\n        document.getSelection().removeAllRanges();\n        this._WidgetMove(e);\n      }\n      if (this.toResize) {\n        this._WidgetResize(e);\n      }\n    } else {\n      if (this.toResize) {\n        this._WidgetResize(e);\n      } else {\n        this.widgetInstanceId = 0;\n      }\n    }\n\n    this.lastX = e.pageX;\n    this.lastY = e.pageY;\n  };\n  public MouseUp = (e?: MouseEvent) => {\n    this.widgetInstanceId = 0;\n    this.toMove = this.toResize = false;\n    $(\".jsWidgetContainer\").css(\"z-index\", \"20\");\n  };\n\n  private _WidgetResize(e: MouseEvent): void {\n    let d: Geometry.Point2D = this._GetMouseDistance(e);\n\n    let width: number = $(\".jsWidgetContainer[data-widget-instance-id='\" + this.widgetInstanceId + \"']\").width();\n    let height: number = $(\".jsWidgetContainer[data-widget-instance-id='\" + this.widgetInstanceId + \"']\").height();\n\n    let size: Geometry.Point2D = this._ApplySizeBoundaries({ x: width + d.x, y: height + d.y });\n    $(\".jsWidgetContainer[data-widget-instance-id='\" + this.widgetInstanceId + \"']\").width(size.x);\n    $(\".jsWidgetContainer[data-widget-instance-id='\" + this.widgetInstanceId + \"']\").height(size.y);\n\n    let widgetInstance: WidgetInstance = db.getWidgetInstance(this.widgetInstanceId);\n    if (widgetInstance.WidgetCallbackClass.clbkResized != undefined) {\n      widgetInstance.WidgetCallbackClass.clbkResized(size.x, size.y);\n    }\n    widgetInstance.size.x = size.x;\n    widgetInstance.size.y = size.y;\n  };\n  private _ApplySizeBoundaries(size: Geometry.Point2D): Geometry.Point2D {\n    let widthMin: number = parseInt($(\".jsWidgetContainer[data-widget-instance-id='\" + this.widgetInstanceId + \"'] .ros-widget\").attr(\"data-min-width\"));\n    let widthMax: number = parseInt($(\".jsWidgetContainer[data-widget-instance-id='\" + this.widgetInstanceId + \"'] .ros-widget\").attr(\"data-max-width\"));\n    let heightMin: number = parseInt($(\".jsWidgetContainer[data-widget-instance-id='\" + this.widgetInstanceId + \"'] .ros-widget\").attr(\"data-min-height\"));\n    let heightMax: number = parseInt($(\".jsWidgetContainer[data-widget-instance-id='\" + this.widgetInstanceId + \"'] .ros-widget\").attr(\"data-max-height\"));\n\n    if (size.x > widthMax) {\n      size.x = widthMax;\n    }\n    if (size.x < widthMin) {\n      size.x = widthMin;\n    }\n    if (size.y > heightMax) {\n      size.y = heightMax;\n    }\n    if (size.y < heightMin) {\n      size.y = heightMin;\n    }\n\n    return size;\n  };\n  private _WidgetMove(e: MouseEvent): void {\n    let d: Geometry.Point2D = this._GetMouseDistance(e);\n\n    let left: number = parseInt($(\".jsWidgetContainer[data-widget-instance-id='\" + this.widgetInstanceId + \"']\").css(\"left\"));\n    let top: number = parseInt($(\".jsWidgetContainer[data-widget-instance-id='\" + this.widgetInstanceId + \"']\").css(\"top\"));\n\n    let pos: Geometry.Point2D = this._ApplyPositionBoundaries({ x: left + d.x, y: top + d.y });\n    $(\".jsWidgetContainer[data-widget-instance-id='\" + this.widgetInstanceId + \"']\").css(\"left\", pos.x);\n    $(\".jsWidgetContainer[data-widget-instance-id='\" + this.widgetInstanceId + \"']\").css(\"top\", pos.y);\n\n    let widgetInstance: WidgetInstance = db.getWidgetInstance(this.widgetInstanceId);\n    if (widgetInstance.WidgetCallbackClass.clbkMoved != undefined) {\n      widgetInstance.WidgetCallbackClass.clbkMoved(pos.x, pos.y);\n    }\n    widgetInstance.position.x = pos.x;\n    widgetInstance.position.y = pos.y;\n  };\n  private _ApplyPositionBoundaries(pos: Geometry.Point2D): Geometry.Point2D {\n    let offset: any = $(\".jsTabContent.jsShow\").offset();\n    let xMin: number = offset.left + 1;\n    let yMin: number = offset.top;\n    let xMax: number = xMin + $(\".jsTabContent.jsShow\").width() - $(\".jsWidgetContainer[data-widget-instance-id='\" + this.widgetInstanceId + \"']\").width() - 1;\n    let yMax: number = yMin + $(\".jsTabContent.jsShow\").height() - $(\".jsWidgetContainer[data-widget-instance-id='\" + this.widgetInstanceId + \"']\").height() - 1;\n\n    if (pos.x > xMax) {\n      pos.x = xMax;\n    }\n    if (pos.x < xMin) {\n      pos.x = xMin;\n    }\n    if (pos.y > yMax) {\n      pos.y = yMax;\n    }\n    if (pos.y < yMin) {\n      pos.y = yMin;\n    }\n\n    return pos;\n  };\n  private _GetMouseDistance(e: MouseEvent): Geometry.Point2D {\n    return { x: e.pageX - this.lastX, y: e.pageY - this.lastY };\n  };\n\n}\n","import {storage} from \"../super/storage.ts\";\nimport {db} from \"../super/db.ts\";\nimport {lightbox} from \"../super/lightbox.ts\";\nimport {EventsParent} from \"./events.ts\";\nimport {Workspace} from \"../model/workspace.ts\";\n\ndeclare var MyApp: any;\n\nexport class WorkspaceEvents extends EventsParent {\n\n  constructor() {\n    super();\n\n    this.DelegateEvent(\".jsOpenWorkspace\", \"click\", this.OpenWorkspace);\n    this.DelegateEvent(\".jsSaveWorkspace\", \"click\", this.SaveWorkspace);\n    this.DelegateEvent(\".jsLoadWorkspace\", \"click\", this.LoadWorkspace);\n    this.DelegateEvent(\".jsRemoveWorkspace\", \"click\", this.RemoveWorkspace);\n  }\n\n  public OpenWorkspace = (e?: MouseEvent) => {\n    this._OpenWorkspace();\n    e.preventDefault();\n  }\n  private _OpenWorkspace() {\n    let workspaces: Array<Workspace> = storage.GetWorkspaces();\n    let html = MyApp.templates.workspaceList(workspaces);\n    lightbox.ShowLightbox(html);\n  }\n\n  public SaveWorkspace = (e?: MouseEvent) => {\n    if (window.confirm(\"Save a new workspace?\")) {\n      this._SaveWorkspace();\n    } else {\n\n    }\n    e.preventDefault();\n  }\n  private _SaveWorkspace(): void {\n    let workspace = new Workspace();\n    workspace = storage.NewWorkspace($(\"#jsWorkspaceName\").val());\n    storage.SaveWorkspace(workspace);\n  }\n\n  public LoadWorkspace = (e?: MouseEvent) => {\n    let workspace_id: number = parseInt($(e.toElement).attr(\"data-workspace-id\"));\n    this._LoadWorkspace(workspace_id);\n    e.preventDefault();\n  }\n  private _LoadWorkspace(workspace_id: number): void {\n    let workspace: Workspace = storage.GetWorkspace(workspace_id);\n    db.loadWorkspace(workspace);\n    lightbox.CloseLightbox();\n  }\n\n  public RemoveWorkspace = (e?: MouseEvent) => {\n    let workspace_id: number = parseInt($(e.toElement).attr(\"data-workspace-id\"));\n    let workspace = storage.GetWorkspace(workspace_id);\n    this._RemoveWorkspace(workspace);\n    e.preventDefault();\n  }\n  private _RemoveWorkspace(workspace: Workspace): void {\n    if (window.confirm(\"Are you sure you want to remove workspace #\" + workspace.id + \" (\" + workspace.id + \") ?\")) {\n      let html = MyApp.templates.workspaceList(storage.RemoveWorkspace(workspace.id));\n      lightbox.UpdateLightbox(html);\n    } else {\n      // do nothing\n    }\n  }\n\n\n}\n","/// <reference path=\"./typings/tsd.d.ts\" />\n\n// Events\nimport {TabEvents} from \"./events/tab.ts\";\nimport {WidgetEvents} from \"./events/widget.ts\";\nimport {WidgetInstanceEvents} from \"./events/widget_instance.ts\";\nimport {RosEvents} from \"./events/ros.ts\";\nimport {WorkspaceEvents} from \"./events/workspace.ts\";\n\n// Super\nimport {db} from \"./super/db.ts\";\nimport {lightbox} from \"./super/lightbox.ts\";\nimport {storage} from \"./super/storage.ts\";\nimport {Frontend} from \"./super/frontend.ts\";\n\n// Models\nimport {Widget} from \"./model/widget.ts\";\n\nexport var ros: ROSLIB.Ros = new ROSLIB.Ros(\"\");\n\nfunction init() {\n  window[\"ros\"] = ros;\n  insertWidgets();\n  events(ros);\n  $(document).ready(function () {\n    lightbox.CreateLightbox();\n  });\n  storage.Init(); \n}\n\nfunction events(ros: ROSLIB.Ros): void {\n  let tabEvents: TabEvents = new TabEvents();\n  let widgetEvents: WidgetEvents = new WidgetEvents(ros);\n  let widgetInstanceEvents: WidgetInstanceEvents = new WidgetInstanceEvents(ros);\n  let rosEvents: RosEvents = new RosEvents(ros);\n  let workspace: WorkspaceEvents = new WorkspaceEvents();\n}\n\nfunction insertWidgets(): void {\n  // load list of available widgets\n  let count: number = 1;\n  let widget = db.newWidget();\n  widget.id = count;\n  widget.name = \"Topic Viewer\";\n  widget.alias = \"TopicViewer\";\n  widget.url = \"./widgets/topic_viewer\";\n  count++;\n\n  widget = db.newWidget();\n  widget.id = count;\n  widget.name = \"Param Viewer\";\n  widget.alias = \"ParamViewer\";\n  widget.url = \"./widgets/param_viewer\";\n  count++;\n\n  widget = db.newWidget();\n  widget.id = count;\n  widget.name = \"Service Viewer\";\n  widget.alias = \"ServiceViewer\";\n  widget.url = \"./widgets/service_viewer\";\n  count++;\n\n  widget = db.newWidget();\n  widget.id = count;\n  widget.name = \"Google Maps GPS Viewer\";\n  widget.alias = \"GoogleMapsGpsViewer\";\n  widget.url = \"./widgets/gmaps_gps\";\n  count++;\n\n  widget = db.newWidget();\n  widget.id = count;\n  widget.name = \"Camera Viewer\";\n  widget.alias = \"CameraViewer\";\n  widget.url = \"./widgets/camera_viewer\";\n  count++;\n\n  widget = db.newWidget();\n  widget.id = count;\n  widget.name = \"URDF Viewer\";\n  widget.alias = \"UrdfViewer\";\n  widget.url = \"./widgets/urdf_viewer\";\n  count++;\n\n  widget = db.newWidget();\n  widget.id = count;\n  widget.name = \"LaserScan Viewer\";\n  widget.alias = \"LaserScanViewer\";\n  widget.url = \"./widgets/laser_scan_viewer\";\n  count++;\n\n  // insert Widgets JS and CSS tags\n  let frontend = new Frontend();\n  frontend.InsertWidgetsTags();\n}\n\ninit();\n","import {Workspace} from \"./workspace.ts\";\n\nexport class ROSWeb {\n\n  constructor() {\n    this.Workspaces = new Array<Workspace>();\n  }\n\n  public Workspaces: Workspace[];\n\n}\n","export class Tab {\n  \n  public id: number;\n  public name: string;\n  \n  constructor(name?: string) {\n    if(name) {\n      this.name = name;\n    }\n  }\n  \n}","/// <reference path=\"../typings/tsd.d.ts\" />\n\nexport class Widget {\n  \n  public id: number;\n  public name: string;\n  public image_url: string;\n  public url: string;\n  public alias: string;\n  public html: string;\n  \n  constructor() {\n  }\n  \n}\n","// Models\nimport {Geometry} from \"../types/Geometry.ts\";\nimport {Widget} from \"./widget.ts\";\nimport {Tab} from \"./tab.ts\";\nimport {Subscription} from \"./subscription.ts\";\nimport {instance_loader} from \"../super/instance_loader.ts\";\n\nexport class WidgetInstance {\n\n  public id: number;\n  public Widget: Widget;\n  public Subscriptions: Array<Subscription>;\n  public WidgetCallbackClass: any;\n  public Tab: Tab;\n  public position: Geometry.Point2D;\n  public size: Geometry.Point2D;\n\n  constructor(id: number, widget: Widget) {\n    this.id = id;\n    this.Widget = widget;\n    this.Subscriptions = new Array<Subscription>();\n    this.position = { x: 0, y: 0 };\n    this.size = { x: 0, y: 0 };\n    this.WidgetCallbackClass = instance_loader.getInstance<any>(window, \"Widget\" + this.Widget.alias.charAt(0).toUpperCase() + this.Widget.alias.slice(1), this.id);\n  }\n\n}","/// <reference path=\"../typings/tsd.d.ts\" />\n\nimport {Db} from \"../super/db.ts\";\n\nimport {Tab} from \"./tab.ts\";\nimport {Widget} from \"./widget.ts\";\nimport {WidgetInstance} from \"./widget_instance.ts\";\n\nexport class Workspace {\n\n  public id: number;\n  public name: string;\n  public db: { Tabs: Tab[], TabCounter: number, WidgetInstances: WidgetInstance[], WidgetInstanceCounter: number };\n  public created: Date;\n  public modified: Date;\n\n  constructor() {\n  }\n\n}\n","// Models\nimport {Workspace} from \"../model/workspace.ts\";\nimport {Subscription} from \"../model/subscription.ts\";\nimport {Tab} from \"../model/tab.ts\";\nimport {Widget} from \"../model/widget.ts\";\nimport {WidgetInstance} from \"../model/widget_instance.ts\";\n\nimport {Frontend} from \"../super/frontend.ts\";\nimport {instance_loader} from \"../super/instance_loader.ts\";\n\nexport class Db {\n\n  private Frontend: Frontend;\n\n  constructor() {\n    this.Frontend = new Frontend();\n\n    this.TabCounter = 0;\n    this.Tabs = new Array<Tab>();\n\n    this.WidgetCounter = 0;\n    this.Widgets = new Array<Widget>();\n\n    this.WidgetInstanceCounter = 0;\n    this.WidgetInstances = new Array<WidgetInstance>();\n  }\n  private saveAll(): void {\n\n  }\n\n  // ROS Topics subscriptions\n  public SubscriptionCounter: number\n  public Subscriptions: Array<Subscription>;\n\n  // Loading workspace\n  public loadWorkspace(workspace: Workspace): void {\n    this.TabCounter = workspace.db.TabCounter;\n    this.Tabs = workspace.db.Tabs;\n\n    this._ClearWorkspace();\n    this._GenerateWorkspace(workspace.db.WidgetInstances);\n  }\n  private _ClearWorkspace(): void {\n    $(\".jsTab, .jsTabContent\").remove();\n  }\n  private _GenerateWorkspace(widgetInstances: WidgetInstance[]): void {\n    this.Tabs.forEach((tab: Tab, index: number) => {\n      this.Frontend.newTab(tab);\n      this.Frontend.selectTab(tab);\n      widgetInstances.forEach((widgetInstance: WidgetInstance, index: number) => {\n        if (widgetInstance.Tab.id == tab.id) {\n          let widget: Widget = db.getWidgetByAlias(widgetInstance.Widget.alias);\n          let newWidgetInstance = db.newWidgetInstance(widget);\n          this.Frontend.insertWidgetInstance(newWidgetInstance, () => {\n            newWidgetInstance.WidgetCallbackClass.clbkCreated();\n            this.Frontend.setWidgetInstancePosition(newWidgetInstance, widgetInstance.position);\n            this.Frontend.setWidgetInstanceSize(newWidgetInstance, widgetInstance.size);\n          });\n        }\n      });\n    });\n  }\n\n  // Tab\n  public TabCounter: number;\n  public Tabs: Array<Tab>;\n  public newTab(): Tab {\n    let tab = new Tab();\n    tab.id = ++this.TabCounter;\n    this.Tabs.push(tab);\n    return tab;\n  }\n  public getTab(id: number): Tab {\n    for (let tab of this.Tabs) {\n      if (tab.id == id) return tab;\n    }\n    return null;\n  }\n  public removeTab(tab_id: number): boolean {\n    let index: number = 0;\n    for (let tab of this.Tabs) {\n      if (tab.id == tab_id) {\n        this.Tabs.splice(index, 1);\n        return true;\n      }\n      index++;\n    }\n    return false;\n  }\n\n  // Widget\n  public WidgetCounter: number;\n  public Widgets: Array<Widget>;\n  public newWidget(): Widget {\n    let widget = new Widget();\n    widget.id = ++this.WidgetCounter;\n    this.Widgets.push(widget);\n    return widget;\n  }\n  public setWidget(widget: Widget): void {\n    return;\n  }\n  public getWidget(id: number): Widget {\n    for (let widget of this.Widgets) {\n      if (widget.id == id) return widget;\n    }\n    return null;\n  }\n  public getWidgetByAlias(widgetAlias: string): Widget {\n    let widget = new Widget();\n    let toReturn: Widget = null;\n    this.Widgets.forEach(widget => {\n      if (widget.alias === widgetAlias) {\n        toReturn = widget;\n      }\n    });\n    if (toReturn === null) throw \"Error: Widget alias not found!\";\n    return toReturn;\n  }\n  public removeWidget(widget_id: number): boolean {\n    let index: number = 0;\n    for (let widget of this.Widgets) {\n      if (widget.id == widget_id) {\n        this.Widgets.splice(index, 1);\n        return true;\n      }\n      index++;\n    }\n    return false;\n  }\n\n  // Widget Instance\n  public WidgetInstanceCounter: number;\n  public WidgetInstances: Array<WidgetInstance>;\n  public newWidgetInstance(widget: Widget): WidgetInstance {\n    let id: number = ++this.WidgetInstanceCounter;\n    let widgetInstance = new WidgetInstance(id, widget);\n    this.WidgetInstances.push(widgetInstance);\n    return widgetInstance;\n  }\n  public getWidgetInstance(id: number): WidgetInstance {\n    for (let widgetInstance of this.WidgetInstances) {\n      if (widgetInstance.id == id) return widgetInstance;\n    }\n    return null;\n  }\n  public removeWidgetInstance(widgetInstance_id: number): boolean {\n    let index: number = 0;\n    for (let widgetInstance of this.WidgetInstances) {\n      if (widgetInstance.id == widgetInstance_id) {\n        this.WidgetInstances.splice(index, 1);\n        return true;\n      }\n      index++;\n    }\n    return false;\n  }\n\n}\n\nexport var db: Db = new Db();\n","/// <reference path=\"../typings/tsd.d.ts\" />\n\nexport class Design {\n\n  public tabTopOffset: number = 0;\n  public tabHeight: number = 0;\n\n  constructor() {\n    this.adjustWindowResize();\n  }\n\n  public adjustWindowResize(): void {\n    this._calculateTabTopOffset();\n    this._adjustContentHeight();\n    this._adjustWidgetsHeight();\n  }\n\n  private _calculateTabTopOffset(): void {\n    let totalHeight = $(window).height();\n    let usedHeight = this._getTotalHeight(\"#header1\") + this._getTotalHeight(\"#header2\");\n    this.tabHeight = totalHeight - usedHeight;\n    this.tabTopOffset = usedHeight;\n  }\n\n  private _adjustContentHeight(): void {\n    $(\"#content\").height(this.tabHeight);\n  }\n\n  private _adjustWidgetsHeight(): void {\n    $(\".jsWidgetsContainer\").height(this.tabHeight).css(\"top\", this.tabTopOffset);\n    $(\".jsMenuWidgetsSettings\").height(this.tabHeight).css(\"top\", this.tabTopOffset);\n  }\n\n  private _getTotalHeight(selector: string): number {\n    let pad: number = parseInt($(selector).css(\"paddingTop\")) + parseInt($(selector).css(\"paddingBottom\"));\n    let hei: number = $(selector).height();\n    let bor: number = parseInt($(selector).css(\"borderTopWidth\")) + parseInt($(selector).css(\"borderBottomWidth\"));\n    let totalHeight: number = pad + hei + bor;\n    return totalHeight;\n  }\n\n}","/// <reference path=\"../typings/tsd.d.ts\" />\n\n// Models\nimport {Tab} from \"../model/tab.ts\";\nimport {Widget} from \"../model/widget.ts\";\nimport {WidgetInstance} from \"../model/widget_instance.ts\";\n\n// Super classes\nimport {Names} from \"./names.ts\";\nimport {Trigger} from \"./trigger.ts\";\nimport {db} from \"./db.ts\";\n\n// types\nimport {Geometry} from \"../types/Geometry.ts\";\n\ndeclare var MyApp: any;\n\ninterface TypeDef {\n  examples: string[],\n  fieldarraylen: number[],\n  fieldnames: string[],\n  fieldtypes: string[],\n  type: string\n}\n\nexport class Frontend {\n\n  public tabContainerId: string;\n  public tabContentContainerId: string;\n\n  private Names: Names;\n  public Trigger: Trigger;\n\n  private ActiveTabId: number;\n\n  constructor() {\n    this.tabContainerId = \"header2\";\n    this.tabContentContainerId = \"tabs\";\n\n    this.Names = new Names();\n    this.Trigger = new Trigger();\n  }\n\n  public InsertWidgetsTags(): void {\n    db.Widgets.forEach((value: Widget, index: number, array: Widget[]) => {\n      $(\"body\").append(\"<script type='text/javascript' src='\" + value.url.slice(2) + \"/main.js\" + \"'></script>\");\n      // $(\"body\").append(\"<link rel='stylesheet' type='text/css' href='\" + value.url.slice(2) + \"/main.css\" + \"' />\");\n    });\n  }\n  public LoadingLink(element: Element, disabled: Boolean = true) {\n    if (disabled) {\n      $(element).addClass(\"disabled\");\n    } else {\n      $(element).removeClass(\"disabled\");\n    }\n  }\n  public ReleaseLink(element: Element) {\n    this.LoadingLink(element, false);\n  }\n\n  public formTab(tab?: Tab): Tab {\n    if (tab) {\n      tab.name = \"tab #\" + tab.id;\n      return tab;\n    }\n    return new Tab();\n  }\n\n  public newTab(tab: Tab): void {\n    var tabHtml = MyApp.templates.tab(tab);\n    var tabContentHtml = MyApp.templates.tabContent(tab);\n    // insert tab\n    $(tabHtml).insertBefore(\"#\" + this.tabContainerId + \" > .clearfix\");\n    //document.getElementById(this.tabContainerId).innerHTML += tabHtml;\n    // insert tab content\n    document.getElementById(this.tabContentContainerId).innerHTML += tabContentHtml;\n  }\n\n  public closeTab(tab_id: number): void {\n    $(\".jsTab[data-tab-id='\" + tab_id + \"']\").remove();\n    $(\".jsTabContent[data-tab-id='\" + tab_id + \"']\").remove();\n  }\n\n  public selectTab(tab: Tab): void {\n    let parentClassName = this.Names.classTabParent;\n    $(\".\" + parentClassName).removeClass(\"jsActive\");\n    $(\".\" + parentClassName + \"[data-tab-id=\" + tab.id + \"]\").addClass(\"jsActive\");\n    let className = this.Names.eventsClassPrefix + \"Tab\";\n    $(\".\" + className).removeClass(\"jsActive\");\n    $(\".\" + className + \"[data-tab-id=\" + tab.id + \"]\").addClass(\"jsActive\");\n    let tabClassName = this.Names.classTabContent;\n    $(\".\" + tabClassName).removeClass(\"jsShow\").addClass(\"jsHide\");\n    $(\".\" + tabClassName + \"[data-tab-id=\" + tab.id + \"]\").removeClass(\"jsHide\").addClass(\"jsShow\");\n    this.ActiveTabId = tab.id;\n  }\n\n  public showWidgetsMenu(): void {\n    this.widgetsList(db.Widgets);\n    $(\".\" + this.Names.classWidgetsContainer).animate({ width: 'toggle' });\n  }\n  public widgetsList(list: Array<Widget>): void {\n    var html = MyApp.templates.widgetList(list);\n    $(\".\" + this.Names.classWidgetsList).html(html);\n  }\n\n  public LoadWidgetContentAndInsert(widgetInstance: WidgetInstance, afterContentCallback: any): void {\n    this._loadWidgetContentAndInsert(widgetInstance, afterContentCallback);\n  }\n  private _loadWidgetContentAndInsert(widgetInstance: WidgetInstance, afterContentCallback: any): void {\n    let currentTabId: number = this._getForcedCurrentTabId();\n    let fn = this._insertWidget;\n    $.ajax({\n      url: widgetInstance.Widget.url.slice(2) + \"/index.hbs\",\n      beforeSend: function () {\n\n      },\n      success: function (data: string) {\n        MyApp.templates._widgetsTemplates[widgetInstance.Widget.alias] = Handlebars.compile(data);\n        fn(widgetInstance, currentTabId, afterContentCallback);\n      },\n      error: function (e1: any, e2: any) {\n        throw \"Widget file not found!\";\n      }\n    });\n  }\n\n  public insertWidgetInstance(widgetInstance: WidgetInstance, afterContentCallback: any): void {\n    if (MyApp.templates._widgetsTemplates === undefined) {\n      MyApp.templates._widgetsTemplates = [];\n    }\n    if (MyApp.templates._widgetsTemplates[widgetInstance.Widget.alias] === undefined) {\n      this._loadWidgetContentAndInsert(widgetInstance, afterContentCallback);\n    } else {\n      let currentTabId: number = this._getForcedCurrentTabId();\n      this._insertWidget(widgetInstance, currentTabId, afterContentCallback);\n    }\n  }\n  private _insertWidget(widgetInstance: WidgetInstance, currentTabId: number, afterContentCallback: any): void {\n    let content: string, html: string;\n    content = MyApp.templates._widgetsTemplates[widgetInstance.Widget.alias]();\n    let width: string = $(content).attr(\"data-width\") + \"px\";\n    let height: string = $(content).attr(\"data-height\") + \"px\";\n    let left: string, top: string;\n    left = ($(\".jsTabContent.jsShow\").width() / 2).toString() + \"px\";\n    top = ($(\".jsTabContent.jsShow\").height() / 2).toString() + \"px\";\n    widgetInstance.position = { x: parseInt(left), y: parseInt(top) };\n    widgetInstance.Tab = db.getTab(currentTabId);\n    html = MyApp.templates.widget({ WidgetInstance: widgetInstance, content: content, left: left, top: top, width: width, height: height });\n    $(\"div.jsTabContent[data-tab-id=\" + currentTabId + \"]\").append(html);\n    widgetInstance.size.x = parseInt($(html).find(\".ros-widget\").attr(\"data-width\"));\n    widgetInstance.size.y = parseInt($(html).find(\".ros-widget\").attr(\"data-height\"));\n    let trigger = new Trigger();\n    trigger.widgetSettings(widgetInstance.id);\n    if (afterContentCallback != undefined) {\n      afterContentCallback();\n    }\n  }\n\n  public setWidgetInstancePosition(widgetInstance: WidgetInstance, position: Geometry.Point2D): void {\n    $(\".jsWidgetContainer[data-widget-instance-id=\" + widgetInstance.id + \"]\").css({ top: position.y, left: position.x });\n  };\n  public setWidgetInstanceSize(widgetInstance: WidgetInstance, size: Geometry.Point2D): void {\n    $(\".jsWidgetContainer[data-widget-instance-id=\" + widgetInstance.id + \"]\").css({ height: size.y, width: size.x });\n  };\n\n  private _getForcedCurrentTabId(): number {\n    let currentTabId: number = this._getCurrentTabId();\n    if (currentTabId === 0) {\n      this.Trigger.newTab();\n    }\n    return this._getCurrentTabId();\n  }\n  private _getCurrentTabId(): number {\n    let tabIdStr: string = $(\"div.jsTab.jsActive\").attr(\"data-tab-id\");\n    if (tabIdStr === undefined) {\n      return 0;\n    }\n    let tabId: number = parseInt(tabIdStr);\n    return tabId;\n  }\n\n  public ShowWidgetSettings(): void {\n    $(\".jsMenuWidgetsSettings\").animate({ right: 0 });\n  }\n  public HideWidgetSettings(): void {\n    $(\".jsMenuWidgetsSettings\").animate({ right: -300 });\n    $(\".jsWidgetContainer\").attr(\"data-widget-conf\", \"0\");\n    $(\".jsToggleMovable\").removeClass(\"active\");\n  }\n\n  // Update Selector Methods\n  public UpdateRosTopicSelectors(response: { topics: string[], types: string[], details: TypeDef[] }): void {\n    $(\".jsRosTopicSelector\").html(\"\");\n    var html = '';\n    $(\".jsRosTopicSelector\").each((i: number, element: Element) => {\n      let elementWidgetInstance = $(\".jsWidgetContainer[data-widget-instance-id=\" + $(element).attr(\"data-widget-instance-id\") + \"]\");\n      let elementMeta = $(elementWidgetInstance).find(\"meta[data-widget-topic-id='\" + $(element).attr(\"data-widget-topic-id\") + \"']\");\n      let subscribedTopic: string = $(elementMeta).attr(\"data-subscribed-topic\");\n\n      html = MyApp.templates.rosTopicSelectorOptions({ name: '-- Select a topic to subscribe --', value: \"\" });\n      let strTypes: string = $(element).attr(\"data-ros-topic-type\");\n      let types = (strTypes == \"\") ? [] : strTypes.split(\"|\");\n      response.topics.forEach((value: string, index: number) => {\n        let selected: boolean = (value == subscribedTopic) ? true : false;\n        if ((types.indexOf(response.types[index]) > -1) || types.length == 0) {\n          html += MyApp.templates.rosTopicSelectorOptions({ name: value, value: value, type: response.types[index], selected: selected });\n        }\n      });\n      $(element).append(html);\n    });\n  }\n  public UpdateRosParamSelectors(response: string[]): void {\n    $(\".jsRosParamSelector\").html(\"\");\n    var html = '';\n    $(\".jsRosParamSelector\").each((i: number, element: Element) => {\n      let elementWidgetInstance = $(\".jsWidgetContainer[data-widget-instance-id=\" + $(element).attr(\"data-widget-instance-id\") + \"]\");\n      let elementMeta = $(elementWidgetInstance).find(\"meta[data-ros-param-id='\" + $(element).attr(\"data-ros-param-id\") + \"']\");\n      let selectedParam: string = $(elementMeta).attr(\"data-ros-param-slctd\");\n\n      html = MyApp.templates.rosParamSelectorOptions({ name: '-- Select a param to manage --', value: \"\" });\n      response.forEach((value: string, index: number) => {\n        let selected: boolean = (value == selectedParam) ? true : false;\n        html += MyApp.templates.rosParamSelectorOptions({ name: value, value: value, selected: selected });\n      });\n      $(element).append(html);\n    });\n  }\n  public UpdateRosServiceSelectors(response: string[]): void {\n    $(\".jsRosServiceSelector\").html(\"\");\n    var html = '';\n    $(\".jsRosServiceSelector\").each((i: number, element: Element) => {\n      let elementWidgetInstance = $(\".jsWidgetContainer[data-widget-instance-id=\" + $(element).attr(\"data-widget-instance-id\") + \"]\");\n      let elementMeta = $(elementWidgetInstance).find(\"meta[data-ros-service-id='\" + $(element).attr(\"data-ros-service-id\") + \"']\");\n      let selectedService: string = $(elementMeta).attr(\"data-ros-service-slctd\");\n\n      html = MyApp.templates.rosServiceSelectorOptions({ name: '-- Select a service --', value: \"\" });\n      response.forEach((value: string, index: number) => {\n        let selected: boolean = (value == selectedService) ? true : false;\n        html += MyApp.templates.rosServiceSelectorOptions({ name: value, value: value, selected: selected });\n      });\n      $(element).append(html);\n    });\n  }\n\n  // Update Workspace Methods\n  public UpdateWorkspace(db: any) {\n\n  }\n\n}\n","class InstanceLoader {\n  public getInstance<T>(context: Object, name: string, ...args: any[]): T {\n    var instance = Object.create(context[name].prototype);\n    instance.constructor.apply(instance, args);\n    return <T>instance;\n  }\n}\n\nexport var instance_loader: InstanceLoader = new InstanceLoader();\n","/// <reference path=\"../typings/tsd.d.ts\" />\n\ndeclare var MyApp: any;\n\nclass Lightbox {\n\n  constructor() {\n  }\n\n  public CreateLightbox() {\n    var lightboxHtml = MyApp.templates.lightbox();\n    $(lightboxHtml).insertAfter(\"#footer\");\n  }\n\n  public ShowLightbox(content?: string): void {\n    $(\"#lightbox\").html(\"\");\n\n    let wHeight: number = $(window).height();\n    let wWidth: number = $(window).width();\n    $(\"#lightboxBackground\").css({ height: wHeight, width: wWidth }).fadeIn(500);\n\n    if (content != undefined) {\n      this.UpdateLightbox(content);\n    }\n  }\n\n  public CloseLightbox(): void {\n    $(\"#lightboxBackground\").hide();\n  }\n\n  public UpdateLightbox(content: string): void {\n    $(\"#lightbox\").html(content);\n    let wHeight: number = $(window).height();\n    let wWidth: number = $(window).width();\n    let width = $(\"#lightbox\").width();\n    let height = $(\"#lightbox\").height();\n    let left = (wWidth - width) / 2;\n    let top = (wHeight - height) / 2;\n    $(\"#lightbox\").css({ top: top, left: left });\n  }\n\n}\n\nexport var lightbox: Lightbox = new Lightbox();\n","export class Names {\n  \n  public eventsClassPrefix: string = \"jsEvent\";\n  \n  public classTabParent: string = \"jsTab\";\n  public classTabContent: string = \"jsTabContent\";\n  \n  public classWidgetsContainer: string = \"jsWidgetsContainer\";\n  public classWidgetsSettings: string = \"jsWidgetsSettings\";\n  public classWidgets: string = \"jsWidgets\";\n  public classWidgetsList: string = \"jsWidgetsList\";\n  \n  constructor() {\n    \n  }\n  \n}","import {Workspace} from \"../model/workspace.ts\";\nimport {ROSWeb} from \"../model/rosweb.ts\";\nimport {db} from \"./db.ts\";\n\nclass Storage {\n\n  private count: number;\n\n  constructor() {\n    this.count = 0;\n    if (localStorage[\"ROSWeb\"] == undefined) {\n      let rosweb = new ROSWeb();\n      localStorage.setItem(\"ROSWeb\", JSON.stringify(rosweb));\n      console.log(\"creating rosweb localstorage\");\n    }\n  }\n  public Init(): void {\n  }\n\n  // Get\n  public GetWorkspaces(): Array<Workspace> {\n    let rosweb: ROSWeb;\n    try {\n      rosweb = JSON.parse(localStorage.getItem(\"ROSWeb\"));\n    } catch (e) {\n      alert(e);\n    }\n    return rosweb.Workspaces;\n  }\n\n  public GetWorkspace(workspace_id: number): Workspace {\n    let toReturn: Workspace;\n    this.GetWorkspaces().forEach((workspace: Workspace, index: number, array: Workspace[]) => {\n      if (workspace.id == workspace_id) {\n        toReturn = workspace;\n      }\n    });\n    return toReturn;\n  }\n\n  // New\n  public NewWorkspace(name: string): Workspace {\n    let id: number;\n    let workspaces: Array<Workspace> = this.GetWorkspaces();\n    if (workspaces.length == 0) {\n      id = 1;\n    } else {\n      function sortByIdDesc(obj1: Workspace, obj2: Workspace) {\n        if (obj1.id > obj2.id) return -1;\n        if (obj1.id < obj2.id) return 1;\n      }\n      let lastWorkspace: Workspace = workspaces.sort(sortByIdDesc)[0];\n      id = lastWorkspace.id + 1;\n    }\n\n    let workspace = new Workspace();\n    workspace.id = id;\n    workspace.name = name;\n    return workspace;\n  }\n\n  // Save\n  public SaveWorkspace(workspace: Workspace): void {\n    let rosweb: any = JSON.parse(localStorage.getItem(\"ROSWeb\"));\n    workspace.db = {\n      Tabs: db.Tabs,\n      TabCounter: db.TabCounter,\n      WidgetInstances: db.WidgetInstances,\n      WidgetInstanceCounter: db.WidgetInstanceCounter\n    };\n    rosweb.Workspaces.push(workspace);\n    localStorage.setItem(\"ROSWeb\", JSON.stringify(rosweb));\n  }\n\n  // Load\n  public LoadWorkspace(id: number): void {\n    try {\n      let workspaces: Array<Workspace> = JSON.parse(localStorage[\"ROSWeb\"][\"workspaces\"]);\n    }\n    catch (e) {\n      alert(e);\n    }\n  }\n\n  // Remove\n  public RemoveWorkspace(id: number): Workspace[] {\n    let rosweb: ROSWeb;\n    let updatedRosweb: ROSWeb = new ROSWeb();\n    try {\n      rosweb = JSON.parse(localStorage.getItem(\"ROSWeb\"));\n      updatedRosweb.Workspaces = new Array<Workspace>();\n      function filterById(workspace: Workspace) {\n        return workspace.id != id;\n      }\n      updatedRosweb.Workspaces = rosweb.Workspaces.filter(filterById);\n      localStorage.setItem(\"ROSWeb\", JSON.stringify(updatedRosweb));\n      return updatedRosweb.Workspaces;\n    } catch (e) {\n      throw new Error(e);\n    }\n  }\n\n}\n\nexport var storage: Storage = new Storage();","/// <reference path=\"../typings/tsd.d.ts\" />\n\nexport class Trigger {\n\n  constructor() {\n    \n  }\n  \n  public newTab(): void  {\n    $(\".jsEventNewTab\")[0].click();\n  }\n\n  public widgetSettings(widgetInstanceId: number): void {\n    $(\".jsWidgetSettings[data-widget-instance-id=\" + widgetInstanceId + \"]\")[0].click();\n  }\n\n}"]}